name: PR Badge Comment

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  comment-badges:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@08c6903cd8c0fde910a37f88322edcfb5dd907a8 # v5
      - name: Generate hilbert badges using local Docker action
        id: hilbert
        uses: ./
        with:
          random: 25
          sort: hilbert
          style: flat
          format: html

      - name: Generate hsv badges using local Docker action
        id: hsv
        uses: ./
        with:
          random: 25
          sort: hsv
          style: flat
          format: html

      - name: Generate step badges using local Docker action
        id: step
        uses: ./
        with:
          random: 25
          sort: step
          style: flat
          format: html

      - name: Generate step_invert badges using local Docker action
        id: step_invert
        uses: ./
        with:
          random: 25
          sort: step_invert
          style: flat
          format: html

      - name: Generate luminance badges using local Docker action
        id: luminance
        uses: ./
        with:
          random: 25
          sort: luminance
          style: flat
          format: html
      - name: Post PR comment
        uses: peter-evans/create-or-update-comment@71345be0265236311c031f5c7866368bd1eff043 # v4
        with:
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            ## 🏷️ Test Badge Generation
            ### hilbert
            ${{ steps.hilbert.outputs.badges }}

            ### hsv
            ${{ steps.hsv.outputs.badges }}

            ### step
            ${{ steps.step.outputs.badges }}

            ### step_invert
            ${{ steps.step_invert.outputs.badges }}

            ### luminance
            ${{ steps.luminance.outputs.badges }}
